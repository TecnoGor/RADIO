!function(t){"use strict";window.UT_Animated_Cursor=class{constructor(t,e){this.isStuck=!1,this.isInPosition=!1,this.outerCursorSpeed=.2,this.DOM={el:t},this.DOM.dotInner=this.DOM.el.querySelector("ellipse.circle-inner"),this.DOM.dot_size=this.DOM.el.getAttribute("data-dot-size"),this.DOM.dot_size_hover=this.DOM.el.getAttribute("data-hover-dot-size"),this.DOM.follow={el:document.getElementById("ut-hover-cursor-follow")},this.DOM.followInner=this.DOM.follow.el.querySelector("ellipse.circle"),this.DOM.body=document.querySelector("body"),this.DOM.pulse=document.getElementById("ut-hover-cursor-pulse"),this.DOM.cursor="default",this.DOM.leftOffset=this.DOM.body.classList.contains("ut-site-border-left")?site_settings.siteframe_size:0,this.DOM.force_load=!1,this.DOM.locked=!1,this.DOM.mouse={x:0,y:0},this.DOM.pos={x:0,y:0},this.DOM.active=!1,this.DOM.currentTarget={el:!1},this.magnify="on"===this.DOM.follow.el.getAttribute("data-magnify"),this.supports_magnify=!1,this.stuck_list=[],this.initCursor(),this.initEvents(),this.parallaxCursor(),e&&"function"==typeof e&&e()}resetCursor(){this.DOM.currentTarget.el=!1,this.isStuck=!1,this.isInPosition=!1,this.DOM.follow.el.classList.remove("ut-hover-cursor-magnified"),this.DOM.el.setAttribute("data-cursor","default"),this.DOM.follow.el.setAttribute("data-cursor","default"),this.DOM.dotInner.setAttribute("rx",this.DOM.dot_size),this.DOM.dotInner.setAttribute("ry",this.DOM.dot_size)}parallaxCursor(){var e=this;this.magnify&&(this.DOM.el.classList.contains("ut-hover-cursor-grow-off")||t(".ut-social-follow-module li").on("mouseenter",(function(){TweenMax.set(this,{scale:2}),TweenMax.set(this.firstElementChild,{x:0,y:0,scale:.5}),e.supports_magnify=!0})).on("mouseleave",(function(){TweenMax.set(this,{scale:1}),TweenMax.set(this.firstElementChild,{scale:1}),TweenMax.to(this.firstElementChild,.2,{x:0,y:0}),e.supports_magnify=!1})).on("mousemove",(function(t){e.isInPosition&&(e.parallaxCircleIt(t,this,20),e.callParallaxIt(t,this))})))}callParallaxIt(t,e){this.parallaxIt(t,e,e.firstElementChild,15)}parallaxCircleIt(t,e,s){var o=this,i=e.getBoundingClientRect(),l=t.clientX-i.left,r=t.clientY-i.top;o.DOM.pos.x=i.left+i.width/2+(l-i.width/2)/s,o.DOM.pos.y=i.top+i.height/2+(r-i.height/2)/s,TweenMax.to(o.DOM.follow.el,.3,{x:o.DOM.pos.x,y:o.DOM.pos.y,ease:Power2.easeOut})}parallaxIt(t,e,s,o){var i=e.getBoundingClientRect(),l=t.clientX-i.left,r=t.clientY-i.top;TweenMax.to(s,.3,{x:(l-i.width/2)/i.width*o,y:(r-i.height/2)/i.height*o,ease:Power2.easeOut})}initCursor(){var e=this;t(".ut-hover-cursor-parent").on("mousemove",(function(t){e.DOM.el.clientX=t.clientX-e.DOM.leftOffset,e.DOM.el.clientY=t.clientY,e.DOM.mouse.x=t.pageX,e.DOM.mouse.y=t.pageY}));var s=function(){if(TweenMax.set(e.DOM.el,{x:e.DOM.el.clientX,y:e.DOM.el.clientY}),e.magnify)if(e.isStuck){if(!e.isInPosition)if(e.supports_magnify){const t=e.DOM.currentTarget.el.getBoundingClientRect();TweenMax.to(e.DOM.follow.el,.2,{x:t.left+t.width/2,y:t.top+t.height/2,width:t.width,height:t.height,ease:Power2.easeOut}),e.isInPosition=!0}else TweenMax.to(e.DOM.follow.el,e.outerCursorSpeed,{x:e.DOM.el.clientX,y:e.DOM.el.clientY,ease:Power2.easeOut})}else TweenMax.to(e.DOM.follow.el,e.outerCursorSpeed,{x:e.DOM.el.clientX,y:e.DOM.el.clientY,ease:Power2.easeOut});else TweenMax.set(e.DOM.follow.el,{x:e.DOM.el.clientX,y:e.DOM.el.clientY});requestAnimationFrame(s)};requestAnimationFrame(s)}initEvents(){var e=this,s=t('a:not(.ut-social-follow-link), button:not(.flickity-button ), input[type="submit"], [data-custom-cursor], .ut-social-follow-module li'),o=t("[data-cursor-skin]");this.clickPulse=()=>{TweenMax.set(this.DOM.pulse,{x:e.DOM.el.clientX-e.DOM.el.clientWidth/2,y:e.DOM.el.clientY-e.DOM.el.clientHeight/2,scale:0}),TweenMax.fromTo(this.DOM.pulse,1,{scale:.5,opacity:.3},{scale:1,opacity:0,clearProps:"all",ease:Expo.easeOut})},this.DOM.body.addEventListener("click",this.clickPulse),this.DOM.body.addEventListener("oncontextmenu",this.clickPulse),this.mouseenterSkin=function(s){!t(this).is("div")||t(this).is("#ut-morph-box-app")||t(this).is("#ut-morph-box-full")||t(this).parent().is("a")||s.stopImmediatePropagation(),e.DOM.locked||(t(this).is("a")&&(e.DOM.locked=!0),"global"===t(this).data("cursor-skin")?(e.DOM.el.setAttribute("data-skin",t(e.DOM.el).data("default-skin")),e.DOM.follow.el.setAttribute("data-skin",t(e.DOM.el).data("default-skin"))):(e.DOM.el.setAttribute("data-skin",t(this).data("cursor-skin")),e.DOM.follow.el.setAttribute("data-skin",t(this).data("cursor-skin"))))},o.on("mouseenter",this.mouseenterSkin),this.mouseleaveSkin=function(s){var o=t(this);o.parent().closest("[data-cursor-skin]").length?"global"===o.parent().closest("[data-cursor-skin]").get(0).getAttribute("data-cursor-skin")?(e.DOM.el.setAttribute("data-skin",t(e.DOM.el).data("default-skin")),e.DOM.follow.el.setAttribute("data-skin",t(e.DOM.el).data("default-skin"))):(e.DOM.el.setAttribute("data-skin",o.parent().closest("[data-cursor-skin]").get(0).getAttribute("data-cursor-skin")),e.DOM.follow.el.setAttribute("data-skin",o.parent().closest("[data-cursor-skin]").get(0).getAttribute("data-cursor-skin"))):(e.DOM.el.setAttribute("data-skin",t(e.DOM.el).data("default-skin")),e.DOM.follow.el.setAttribute("data-skin",t(e.DOM.el).data("default-skin"))),t(this).is("a")&&(e.DOM.locked=!1)},o.on("mouseleave",this.mouseleaveSkin),this.mouseenterFn=function(s){e.DOM.currentTarget.el=s.currentTarget,t(this).hasClass("ut-deactivated-link")||(e.DOM.dotInner.setAttribute("rx",e.DOM.dot_size_hover),e.DOM.dotInner.setAttribute("ry",e.DOM.dot_size_hover)),t(this).hasClass("ut-deactivated-link")?(e.DOM.el.setAttribute("data-cursor","default"),e.DOM.follow.el.setAttribute("data-cursor","default")):t(this).hasClass("ut-load-video")?(e.DOM.el.setAttribute("data-cursor","video"),e.DOM.follow.el.setAttribute("data-cursor","video")):t(s.target).data("custom-cursor")?(e.DOM.el.setAttribute("data-cursor",t(s.target).data("custom-cursor")),e.DOM.follow.el.setAttribute("data-cursor",t(s.target).data("custom-cursor"))):t(s.target).is("img")||t("img",s.target).length||t(s.target).hasClass("ut-portfolio-info")||t(s.target).hasClass("ut-image-gallery-image-caption")?t(s.target).parent().hasClass("ut-deactivated-link")?(e.DOM.el.setAttribute("data-cursor","default"),e.DOM.follow.el.setAttribute("data-cursor","default")):(e.DOM.el.setAttribute("data-cursor","image"),e.DOM.follow.el.setAttribute("data-cursor","image")):(e.isStuck=!0,e.DOM.el.setAttribute("data-cursor","link"),e.DOM.follow.el.setAttribute("data-cursor","link"))},s.on("mouseenter",this.mouseenterFn),t(document).on("mouseenter",".lg-icon",this.mouseenterFn),t(document).on("mouseenter",".ut-morph-box-close",(function(t){e.DOM.el.setAttribute("data-cursor","link"),e.DOM.el.classList.add("ut-cursor-force-size"),e.DOM.follow.el.setAttribute("data-cursor","link"),e.DOM.follow.el.classList.add("ut-cursor-force-size");const s=t.currentTarget.getBoundingClientRect();e.DOM.followInner.setAttribute("rx",(s.width+16)/2),e.DOM.followInner.setAttribute("ry",(s.width+16)/2)})).on("mouseleave",".ut-morph-box-close",(function(t){e.DOM.el.setAttribute("data-cursor","default"),e.DOM.el.classList.remove("ut-cursor-force-size"),e.DOM.follow.el.setAttribute("data-cursor","default"),e.DOM.follow.el.classList.remove("ut-cursor-force-size"),e.DOM.followInner.setAttribute("rx",48),e.DOM.followInner.setAttribute("ry",48)})),t(document).on("mouseenter",".flickity-button, .flickity-page-dots .dot",(function(t){e.DOM.el.setAttribute("data-cursor","link"),e.DOM.el.classList.add("ut-cursor-force-size"),e.DOM.follow.el.setAttribute("data-cursor","link"),e.DOM.follow.el.classList.add("ut-cursor-force-size");const s=t.currentTarget.getBoundingClientRect();e.DOM.followInner.setAttribute("rx",(s.width+16)/2),e.DOM.followInner.setAttribute("ry",(s.height+16)/2)})).on("mouseleave",".flickity-button, .flickity-page-dots .dot",(function(){e.DOM.el.setAttribute("data-cursor","default"),e.DOM.el.classList.remove("ut-cursor-force-size"),e.DOM.follow.el.setAttribute("data-cursor","default"),e.DOM.follow.el.classList.remove("ut-cursor-force-size"),e.DOM.followInner.setAttribute("rx",48),e.DOM.followInner.setAttribute("ry",48)})),this.mouseleaveFn=function(){e.resetCursor()},s.on("mouseleave",this.mouseleaveFn),t(document).on("mouseleave",".lg-icon",this.mouseleaveFn),this.mousedownFn=function(){e.DOM.el.classList.add("ut-hover-cursor-mousedown"),e.DOM.follow.el.classList.add("ut-hover-cursor-mousedown")},this.DOM.body.addEventListener("mousedown",this.mousedownFn),this.mouseupFn=function(){e.DOM.el.classList.remove("ut-hover-cursor-mousedown"),e.DOM.follow.el.classList.remove("ut-hover-cursor-mousedown")},this.DOM.body.addEventListener("mouseup",this.mouseupFn),this.mouseenterIFramesFn=function(t){e.DOM.el.classList.add("ut-hover-cursor-hide"),e.DOM.follow.el.classList.add("ut-hover-cursor-hide")},t(document).on("mouseenter","iframe",this.mouseenterIFramesFn),this.mouseleaveIFramesFn=function(t){e.DOM.el.classList.remove("ut-hover-cursor-hide"),e.DOM.el.setAttribute("data-cursor","default"),e.DOM.follow.el.classList.remove("ut-hover-cursor-hide"),e.DOM.follow.el.setAttribute("data-cursor","default")},t(document).on("mouseleave","iframe",this.mouseleaveIFramesFn),this.DOM.force_reload=!1,t(window).on("beforeunload",(function(){e.DOM.force_reload||(e.DOM.el.classList.add("loading"),e.DOM.follow.el.classList.add("loading"))})),t(window).on("pageshow",(function(t){t.originalEvent.persisted&&(e.DOM.force_reload=!0)})),t(document).on("ut.close.overlay",this.resetCursor())}}}(jQuery);